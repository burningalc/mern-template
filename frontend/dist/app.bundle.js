(()=>{"use strict";var e,t={9805:(e,t,r)=>{var n=r(7294),a=r(3935),c=r(3379),l=r.n(c),o=r(6254);l()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var s=r(5513),u=r(5671),i=r(3144),p=r(136),m=r(4575),f=r(1120),d=r(6709),v=r(5861),E=r(8152),h=r(7757),b=r.n(h),y=r(9669),g=r.n(y);const O=function(){return n.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},n.createElement("ul",{class:"navbar-nav mr-auto"},n.createElement("li",{class:"nav-item"},n.createElement("a",{class:"nav-link",href:"/servers"},"Server Management")),n.createElement("li",{class:"nav-item"},n.createElement("a",{class:"nav-link",href:"/dns-entries"},"DNS Entries"))))},Z=function(){var e=(0,n.useState)([]),t=(0,E.Z)(e,2),r=t[0],a=t[1],c=(0,n.useState)([]),l=(0,E.Z)(c,2),o=l[0],s=l[1],u=(0,n.useState)(!0),i=(0,E.Z)(u,2),p=i[0],m=i[1];return(0,n.useEffect)((function(){var e=function(){var e=(0,v.Z)(b().mark((function e(){var t,r,n,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g().get("/api/vpn-server/a-records/Z088920126Z9T7MQECE3M");case 2:t=e.sent,r=t.data,n=r.records,c=r.clusters,console.log(n),a(n),s(c),m(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),n.createElement(n.Fragment,null,n.createElement(O,null),p?n.createElement("h4",null,"Fetching data.."):n.createElement("table",{className:"table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{scope:"col"},"Domain String"),n.createElement("th",{scope:"col"},"IP"),n.createElement("th",{scope:"col"},"Server Friendly Name"),n.createElement("th",{scope:"col"},"Cluster Name"))),n.createElement("tbody",null,r.map((function(e){return e.servers.map((function(t){var r;return n.createElement("tr",null,n.createElement("th",{scope:"row"},e.name),n.createElement("td",null,t.ipAddress),n.createElement("td",null,t.friendlyName),n.createElement("td",null,null===(r=o.find((function(e){return e.clusterId===t.clusterId})))||void 0===r?void 0:r.name))}))})))))};var w=r(4942);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=function(){var e=(0,n.useState)([]),t=(0,E.Z)(e,2),r=t[0],a=t[1],c=(0,n.useState)([]),l=(0,E.Z)(c,2),o=(l[0],l[1]),s=(0,n.useState)(!0),u=(0,E.Z)(s,2),i=u[0],p=u[1];(0,n.useEffect)((function(){var e=function(){var e=(0,v.Z)(b().mark((function e(){var t,r,n,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g().get("/api/vpn-server/server");case 2:t=e.sent,r=t.data,n=r.servers,c=r.clusters,n=n.map((function(e){return x(x({},e),{},{cluster:c.find((function(t){return t.clusterId===e.clusterId}))})})),a(n),o(c),p(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=function(){var e=(0,v.Z)(b().mark((function e(t,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==t){e.next=4;break}return e.next=4,g().request({method:"PUT",url:"/api/vpn-server/server/Z088920126Z9T7MQECE3M",headers:{"Content-Type":"application/json"},data:{ipAddress:r}});case 4:if("remove"!==t){e.next=7;break}return e.next=7,g().request({method:"DELETE",url:"/api/vpn-server/server/Z088920126Z9T7MQECE3M",headers:{"Content-Type":"application/json"},data:{ipAddress:r}});case 7:return e.abrupt("return",window.location.reload());case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return n.createElement(n.Fragment,null,n.createElement(O,null),i?n.createElement("h4",null,"Fetching data.."):n.createElement("table",{className:"table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{scope:"col"},"Friendly Name"),n.createElement("th",{scope:"col"},"Cluster"),n.createElement("th",{scope:"col"},"DNS Status"),n.createElement("th",{scope:"col"},"Actions"))),n.createElement("tbody",null,r.map((function(e){var t;return n.createElement("tr",null,n.createElement("th",{scope:"row"},e.friendlyName),n.createElement("td",null,null===(t=e.cluster)||void 0===t?void 0:t.name),n.createElement("td",null,e.active?e.cluster.subdomain:"Inactive"),n.createElement("td",null,e.active?n.createElement("button",{onClick:function(){return m("remove",e.ipAddress)}},"Remove from rotation"):n.createElement("button",{onClick:function(){return m("add",e.ipAddress)}},"Add to rotation")))})))))},S=function(){return n.createElement("div",null,n.createElement("h1",null,"Error 404 Page does not exist"))};const P=function(e){(0,p.Z)(c,e);var t,r,a=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,f.Z)(t);if(r){var a=(0,f.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function c(){return(0,u.Z)(this,c),a.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){return n.createElement(d.rs,null,n.createElement(d.AW,{exact:!0,path:"/",component:k}),n.createElement(d.AW,{exact:!0,path:"/servers",component:k}),n.createElement(d.AW,{exact:!0,path:"/dns-entries",component:Z}),n.createElement(d.AW,{path:"*",component:S}))}}]),c}(n.Component);r(4812),a.render(n.createElement(n.StrictMode,null,n.createElement(s.VK,null,n.createElement(P,null))),document.getElementById("root"))},6254:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(4015),a=r.n(n),c=r(3645),l=r.n(c)()(a());l.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const o=l}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var c=r[e]={id:e,exports:{}};return t[e](c,c.exports,n),c.exports}n.m=t,e=[],n.O=(t,r,a,c)=>{if(!r){var l=1/0;for(i=0;i<e.length;i++){for(var[r,a,c]=e[i],o=!0,s=0;s<r.length;s++)(!1&c||l>=c)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(o=!1,c<l&&(l=c));if(o){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}c=c||0;for(var i=e.length;i>0&&e[i-1][2]>c;i--)e[i]=e[i-1];e[i]=[r,a,c]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,c,[l,o,s]=r,u=0;if(l.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)var i=s(n)}for(t&&t(r);u<l.length;u++)c=l[u],n.o(e,c)&&e[c]&&e[c][0](),e[l[u]]=0;return n.O(i)},r=self.webpackChunkvpn_servers_management_portal=self.webpackChunkvpn_servers_management_portal||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[475],(()=>n(9805)));a=n.O(a)})();
//# sourceMappingURL=app.bundle.js.map